"use strict";(()=>{var e={};e.id=2689,e.ids=[2689],e.modules={7878:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>h,default:()=>m,getServerSideProps:()=>g,getStaticPaths:()=>x,getStaticProps:()=>u,reportWebVitals:()=>p,routeModule:()=>N,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>b});var a=r(7093),l=r(5244),n=r(1323),i=r(5949),d=r(3414),o=r(2986),c=e([d,o]);[d,o]=c.then?(await c)():c;let m=(0,n.l)(o,"default"),u=(0,n.l)(o,"getStaticProps"),x=(0,n.l)(o,"getStaticPaths"),g=(0,n.l)(o,"getServerSideProps"),h=(0,n.l)(o,"config"),p=(0,n.l)(o,"reportWebVitals"),b=(0,n.l)(o,"unstable_getStaticProps"),f=(0,n.l)(o,"unstable_getStaticPaths"),j=(0,n.l)(o,"unstable_getStaticParams"),v=(0,n.l)(o,"unstable_getServerProps"),y=(0,n.l)(o,"unstable_getServerSideProps"),N=new a.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/items",pathname:"/items",bundlePath:"",filename:""},components:{App:d.default,Document:i.default},userland:o});s()}catch(e){s(e)}})},5929:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(997);function a({filters:e,onFilterChange:t,categories:r=[],isLoadingCategories:a=!1}){let{category:l,sortBy:n,sortOrder:i,minPrice:d,maxPrice:o}=e,c=(r,s)=>{t({...e,[r]:s})},m=l||null!==d||null!==o;return(0,s.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filter & Sort"]}),m&&s.jsx("button",{onClick:()=>{t({category:"",sortBy:"name",sortOrder:"asc",minPrice:null,maxPrice:null})},className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"Reset All"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Category"}),(0,s.jsxs)("select",{value:l,onChange:e=>c("category",e.target.value),className:"w-full text-sm rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500",disabled:a,children:[s.jsx("option",{value:"",children:"All Categories"}),r.map(e=>s.jsx("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Sort By"}),(0,s.jsxs)("select",{value:n,onChange:e=>c("sortBy",e.target.value),className:"w-full text-sm rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[s.jsx("option",{value:"name",children:"Name"}),s.jsx("option",{value:"price",children:"Price"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Order"}),(0,s.jsxs)("select",{value:i,onChange:e=>c("sortOrder",e.target.value),className:"w-full text-sm rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[s.jsx("option",{value:"asc",children:"price"===n?"Lowest First":"A-Z"}),s.jsx("option",{value:"desc",children:"price"===n?"Highest First":"Z-A"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Price Range"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",placeholder:"Min",value:d||"",onChange:e=>c("minPrice",e.target.value?parseInt(e.target.value):null),className:"w-full text-sm rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-400 self-center",children:"-"}),s.jsx("input",{type:"number",placeholder:"Max",value:o||"",onChange:e=>c("maxPrice",e.target.value?parseInt(e.target.value):null),className:"w-full text-sm rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})]}),m&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Active filters:"}),l&&(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-blue-100 text-blue-700 text-xs",children:["Category: ",l,s.jsx("button",{onClick:()=>c("category",""),className:"hover:text-blue-900",children:"\xd7"})]}),null!==d&&(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-green-100 text-green-700 text-xs",children:["Min: ",d,s.jsx("button",{onClick:()=>c("minPrice",null),className:"hover:text-green-900",children:"\xd7"})]}),null!==o&&(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-green-100 text-green-700 text-xs",children:["Max: ",o,s.jsx("button",{onClick:()=>c("maxPrice",null),className:"hover:text-green-900",children:"\xd7"})]})]})})]})}},7134:(e,t,r)=>{r.d(t,{Z:()=>l});var s=r(997),a=r(6689);function l({src:e,alt:t,fallback:r=null,className:l="",containerClassName:n="",onError:i=null}){let[d,o]=(0,a.useState)(!1),[c,m]=(0,a.useState)(!1),[u,x]=(0,a.useState)(!1),g=(0,a.useRef)(null),h=(0,a.useRef)(null);return s.jsx("div",{ref:h,className:n||"w-16 h-16 mx-auto mb-3",children:!e||c?(()=>{if(r)return r;let e=t?t.charAt(0).toUpperCase():"?";return s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-teal-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:e})})})():u?(0,s.jsxs)("div",{className:"relative w-full h-full",children:[!d&&s.jsx("div",{className:"absolute inset-0 bg-gray-200 rounded-full animate-pulse"}),s.jsx("img",{ref:g,src:e,alt:t,className:`${l} ${d?"opacity-100":"opacity-0"} transition-opacity duration-300`,onLoad:()=>{o(!0)},onError:()=>{m(!0),i&&i()},loading:"lazy"})]}):s.jsx("div",{className:"w-full h-full bg-gray-200 rounded-full"})})}},1258:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.d(t,{L_:()=>o,nc:()=>i,ql:()=>d});var a=r(5941),l=r(1448),n=e([a,l]);[a,l]=n.then?(await n)():n;let c=async e=>{let t=await fetch(e);if(!t.ok){let e=Error("An error occurred while fetching the data.");throw e.info=await t.json(),e.status=t.status,e}return t.json()};function i(e=!0,t={}){let{category:r="",sortBy:s="name",sortOrder:a="asc",minPrice:n=null,maxPrice:i=null,fetchAll:d=!1}=t,{data:o,error:m,size:u,setSize:x,isValidating:g,mutate:h}=(0,l.default)((t,l)=>{if(!e||d&&t>0||l&&!l.hasMore)return null;let o=new URLSearchParams({limit:"20",offset:(20*t).toString(),sortBy:s,sortOrder:a});return d&&o.append("fetchAll","true"),r&&o.append("category",r),null!==n&&o.append("minPrice",n.toString()),null!==i&&o.append("maxPrice",i.toString()),`/api/items?${o.toString()}`},c,{revalidateFirstPage:!1,revalidateAll:!1,persistSize:!1}),p=o?o.flatMap(e=>e.items||[]):[],b=!!o&&o[o.length-1]?.hasMore,f=!o&&!m,j=f||u>0&&o&&void 0===o[u-1],v=o?.[0]?.items?.length===0,y=g&&o&&o.length===u,N=o?.[0]?.total||0,w=o?.[0]?.filters||{};return{items:p,total:N,hasMore:b,isLoading:f,isLoadingMore:j,isRefreshing:y,isEmpty:v,error:m,loadMore:()=>x(u+1),refresh:h,activeFilters:w,size:u}}function d(e,t=300){let{data:r,error:s,isValidating:l}=(0,a.default)(e&&e.trim()?`/api/items_search?q=${encodeURIComponent(e)}`:null,c,{dedupingInterval:1e3,revalidateOnFocus:!1});return{suggestions:Array.isArray(r)?r:[],isLoading:l,error:s}}function o(){let{data:e,error:t,isValidating:r}=(0,a.default)("/api/items/categories",c,{revalidateOnFocus:!1,dedupingInterval:6e4});return{categories:e?.categories||[],isLoading:!e&&!t,error:t}}s()}catch(e){s(e)}})},2986:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>x});var a=r(997),l=r(6689),n=r(1163),i=r(2255),d=r(8439),o=r(7134),c=r(5929),m=r(1258),u=e([m]);function x(){let e=(0,n.useRouter)(),{addToast:t}=(0,d.pm)(),[r,s]=(0,l.useState)(""),[u,x]=(0,l.useState)(-1),g=(0,l.useRef)(null),h=(0,l.useRef)(null),p=(0,l.useRef)(null);(0,l.useRef)(!1),(0,l.useRef)(!1);let b=function(e,t){let[r,s]=(0,l.useState)(e);return r}(r,0),f="true"===e.query.showAll,[j,v]=(0,l.useState)({category:"",sortBy:"name",sortOrder:"asc",minPrice:null,maxPrice:null}),{categories:y,isLoading:N}=(0,m.L_)(),{items:w,total:k,hasMore:S,isLoading:P,isLoadingMore:C,isEmpty:M,error:_,loadMore:A,refresh:L}=(0,m.nc)(f,{...j,fetchAll:f}),{suggestions:R,isLoading:I,error:D}=(0,m.ql)(b),$=t=>{t&&(s(t),e.push(`/item/${encodeURIComponent(t)}`))},F=e=>{if(R.length||I)switch(e.key){case"ArrowDown":I||(e.preventDefault(),x(e=>(e+1)%R.length));break;case"ArrowUp":I||(e.preventDefault(),x(e=>(e-1+R.length)%R.length));break;case"Enter":!I&&(u>=0?(e.preventDefault(),$(R[u])):r.trim()&&$(r.trim()));break;case"Escape":s(""),x(-1)}};return a.jsx(i.Z,{children:a.jsx("div",{className:"bg-gradient-to-br from-blue-50 via-white to-green-50 min-h-screen",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,a.jsxs)("header",{className:"mb-8 flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 flex items-center gap-3",children:[a.jsx("span",{className:"text-green-600",children:"ML"})," Items",f&&a.jsx("span",{className:"text-lg font-normal text-gray-500",children:"- All Items"})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:f?`Menampilkan ${w.length}${k?` dari ${k}`:""} items dari database.`:"Cari item Mobile Legends dan lihat detailnya secara instan."}),f&&(0,a.jsxs)("button",{onClick:L,className:"mt-2 text-xs inline-flex items-center gap-1 px-2 py-1 rounded-md border border-gray-300 text-gray-600 bg-white hover:bg-gray-50",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Data"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("a",{href:"/compare-items",className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-purple-200 text-purple-700 bg-purple-50 hover:bg-purple-100",children:"⚖️ Compare"}),a.jsx("a",{href:"/?showAll=true",className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:"Heroes"}),a.jsx("a",{href:"/edit-matches",className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:"Matches"}),a.jsx("a",{href:"/",className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:f?"Dashboard":"Home"}),f&&a.jsx("button",{onClick:()=>e.push("/items"),className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:"Kembali ke Search Items"})]})]}),!f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{className:"bg-white rounded-2xl shadow border border-gray-100 p-4 md:p-6",children:[a.jsx("label",{htmlFor:"itemInput",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cari Item"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{id:"itemInput",ref:h,value:r,onChange:e=>{s(e.target.value),x(-1)},onKeyDown:F,placeholder:"Ketik nama item...",className:"w-full rounded-none border border-black bg-white focus:border-black focus:ring-black pr-10 px-3 py-2 rounded-xs",autoComplete:"off"}),(R.length>0||I)&&a.jsx("div",{ref:g,className:"absolute z-10 mt-2 w-full bg-white border border-gray-200 rounded-xl shadow-lg max-h-72 overflow-auto",children:I?(0,a.jsxs)("div",{className:"flex items-center justify-center py-4 px-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-green-600"}),a.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Mencari items..."})]}):R.map((e,t)=>a.jsx("div",{className:`cursor-pointer px-4 py-2 text-sm text-gray-700 ${0===t?"rounded-t-xl":""} ${t===R.length-1?"rounded-b-xl":""} ${t===u?"bg-gray-100":""}`,onMouseDown:t=>{t.preventDefault(),$(e)},children:e},e+t))})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Mulai ketik minimal 1 huruf. Gunakan tombol panah untuk navigasi dan Enter untuk pilih."})]}),(0,a.jsxs)("section",{className:"mt-6 text-center",children:[(0,a.jsxs)("button",{onClick:()=>e.push("/items?showAll=true"),className:"inline-flex items-center gap-2 px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors shadow-md",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),"Lihat Semua Items"]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Atau klik tombol di atas untuk melihat semua items yang tersedia"})]})]}),f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{className:"bg-white rounded-2xl shadow border border-gray-100 p-4 md:p-6 mb-6",children:[a.jsx("label",{htmlFor:"itemSearchAll",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cari Item"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{id:"itemSearchAll",ref:h,value:r,onChange:e=>{s(e.target.value),x(-1)},onKeyDown:F,placeholder:"Ketik nama item untuk filter...",className:"w-full rounded-none border border-black bg-white focus:border-black focus:ring-black pr-10 px-3 py-2 rounded-xs",autoComplete:"off"}),(R.length>0||I)&&a.jsx("div",{ref:g,className:"absolute z-10 mt-2 w-full bg-white border border-gray-200 rounded-xl shadow-lg max-h-72 overflow-auto",children:I?(0,a.jsxs)("div",{className:"flex items-center justify-center py-4 px-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-green-600"}),a.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Mencari items..."})]}):R.map((e,t)=>a.jsx("div",{className:`cursor-pointer px-4 py-2 text-sm text-gray-700 ${0===t?"rounded-t-xl":""} ${t===R.length-1?"rounded-b-xl":""} ${t===u?"bg-gray-100":""}`,onMouseDown:t=>{t.preventDefault(),$(e)},children:e},e+t))})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Mulai ketik minimal 1 huruf untuk mencari atau gunakan filter di bawah."})]}),a.jsx(c.Z,{filters:j,onFilterChange:v,categories:y,isLoadingCategories:N}),a.jsx("section",{className:"bg-white rounded-2xl shadow border border-gray-100 p-4 md:p-6",children:P?(0,a.jsxs)("div",{className:"flex items-center justify-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-sky-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Memuat items..."})]}):M?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-600",children:"Tidak ada items ditemukan di database."})}):w.length>0?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:w.map((t,r)=>(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4 hover:shadow-lg transition-all cursor-pointer border border-gray-200",onClick:()=>e.push(`/item/${encodeURIComponent(t.item_name)}`),children:[(0,a.jsxs)("div",{className:"text-center mb-3",children:[a.jsx(o.Z,{src:t.image_url,alt:t.item_name,containerClassName:"w-16 h-16 mx-auto mb-3",className:"w-full h-full object-cover rounded-full"}),a.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-1",children:t.item_name}),a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:t.category||"Item"}),null!==t.price&&void 0!==t.price&&(0,a.jsxs)("p",{className:"text-xs font-medium text-amber-600 mb-3",children:[t.price.toLocaleString()," gold"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[null!==t.attack&&void 0!==t.attack&&0!==t.attack&&(0,a.jsxs)("div",{className:"bg-red-50 p-2 rounded",children:[a.jsx("span",{className:"text-gray-600",children:"ATK:"})," ",a.jsx("span",{className:"font-semibold text-red-600",children:t.attack})]}),null!==t.magic_power&&void 0!==t.magic_power&&0!==t.magic_power&&(0,a.jsxs)("div",{className:"bg-purple-50 p-2 rounded",children:[a.jsx("span",{className:"text-gray-600",children:"AP:"})," ",a.jsx("span",{className:"font-semibold text-purple-600",children:t.magic_power})]}),null!==t.hp&&void 0!==t.hp&&0!==t.hp&&(0,a.jsxs)("div",{className:"bg-green-50 p-2 rounded",children:[a.jsx("span",{className:"text-gray-600",children:"HP:"})," ",a.jsx("span",{className:"font-semibold text-green-600",children:t.hp})]}),null!==t.armor&&void 0!==t.armor&&0!==t.armor&&(0,a.jsxs)("div",{className:"bg-blue-50 p-2 rounded",children:[a.jsx("span",{className:"text-gray-600",children:"ARM:"})," ",a.jsx("span",{className:"font-semibold text-blue-600",children:t.armor})]}),null!==t.magic_resist&&void 0!==t.magic_resist&&0!==t.magic_resist&&(0,a.jsxs)("div",{className:"bg-indigo-50 p-2 rounded",children:[a.jsx("span",{className:"text-gray-600",children:"MR:"})," ",a.jsx("span",{className:"font-semibold text-indigo-600",children:t.magic_resist})]}),null!==t.movement_speed&&void 0!==t.movement_speed&&0!==t.movement_speed&&(0,a.jsxs)("div",{className:"bg-yellow-50 p-2 rounded",children:[a.jsx("span",{className:"text-gray-600",children:"SPD:"})," ",a.jsx("span",{className:"font-semibold text-yellow-600",children:t.movement_speed})]})]})]},r))}),(0,a.jsxs)("div",{ref:p,className:"mt-8 flex flex-col items-center justify-center py-4",children:[C&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"}),a.jsx("span",{className:"mt-2 text-sm text-gray-600",children:"Memuat lebih banyak items..."})]}),!S&&w.length>0&&(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["✓ Semua ",w.length," items telah dimuat"]})]})]}):null})]}),(0,a.jsxs)("footer",{className:"mt-10 text-center text-xs text-gray-400",children:[new Date().getFullYear()," ML Helper"]})]})})})}m=(u.then?(await u)():u)[0],s()}catch(e){s(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},5941:e=>{e.exports=import("swr")},1448:e=>{e.exports=import("swr/infinite")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[6859,8342,1664,5093],()=>r(7878));module.exports=s})();