"use strict";(()=>{var e={};e.id=5073,e.ids=[5073],e.modules={4637:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>h,default:()=>m,getServerSideProps:()=>g,getStaticPaths:()=>x,getStaticProps:()=>u,reportWebVitals:()=>p,routeModule:()=>w,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>j,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>f});var s=r(7093),l=r(5244),n=r(1323),i=r(5949),o=r(3414),d=r(1658),c=e([o,d]);[o,d]=c.then?(await c)():c;let m=(0,n.l)(d,"default"),u=(0,n.l)(d,"getStaticProps"),x=(0,n.l)(d,"getStaticPaths"),g=(0,n.l)(d,"getServerSideProps"),h=(0,n.l)(d,"config"),p=(0,n.l)(d,"reportWebVitals"),f=(0,n.l)(d,"unstable_getStaticProps"),b=(0,n.l)(d,"unstable_getStaticPaths"),y=(0,n.l)(d,"unstable_getStaticParams"),v=(0,n.l)(d,"unstable_getServerProps"),j=(0,n.l)(d,"unstable_getServerSideProps"),w=new s.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/items-swr",pathname:"/items-swr",bundlePath:"",filename:""},components:{App:o.default,Document:i.default},userland:d});a()}catch(e){a(e)}})},7134:(e,t,r)=>{r.d(t,{Z:()=>l});var a=r(997),s=r(6689);function l({src:e,alt:t,fallback:r=null,className:l="",containerClassName:n="",onError:i=null}){let[o,d]=(0,s.useState)(!1),[c,m]=(0,s.useState)(!1),[u,x]=(0,s.useState)(!1),g=(0,s.useRef)(null),h=(0,s.useRef)(null);return a.jsx("div",{ref:h,className:n||"w-16 h-16 mx-auto mb-3",children:!e||c?(()=>{if(r)return r;let e=t?t.charAt(0).toUpperCase():"?";return a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-teal-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:e})})})():u?(0,a.jsxs)("div",{className:"relative w-full h-full",children:[!o&&a.jsx("div",{className:"absolute inset-0 bg-gray-200 rounded-full animate-pulse"}),a.jsx("img",{ref:g,src:e,alt:t,className:`${l} ${o?"opacity-100":"opacity-0"} transition-opacity duration-300`,onLoad:()=>{d(!0)},onError:()=>{m(!0),i&&i()},loading:"lazy"})]}):a.jsx("div",{className:"w-full h-full bg-gray-200 rounded-full"})})}},1258:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{L_:()=>d,nc:()=>i,ql:()=>o});var s=r(5941),l=r(1448),n=e([s,l]);[s,l]=n.then?(await n)():n;let c=async e=>{let t=await fetch(e);if(!t.ok){let e=Error("An error occurred while fetching the data.");throw e.info=await t.json(),e.status=t.status,e}return t.json()};function i(e=!0,t={}){let{category:r="",sortBy:a="name",sortOrder:s="asc",minPrice:n=null,maxPrice:i=null,fetchAll:o=!1}=t,{data:d,error:m,size:u,setSize:x,isValidating:g,mutate:h}=(0,l.default)((t,l)=>{if(!e||o&&t>0||l&&!l.hasMore)return null;let d=new URLSearchParams({limit:"20",offset:(20*t).toString(),sortBy:a,sortOrder:s});return o&&d.append("fetchAll","true"),r&&d.append("category",r),null!==n&&d.append("minPrice",n.toString()),null!==i&&d.append("maxPrice",i.toString()),`/api/items?${d.toString()}`},c,{revalidateFirstPage:!1,revalidateAll:!1,persistSize:!1}),p=d?d.flatMap(e=>e.items||[]):[],f=!!d&&d[d.length-1]?.hasMore,b=!d&&!m,y=b||u>0&&d&&void 0===d[u-1],v=d?.[0]?.items?.length===0,j=g&&d&&d.length===u,w=d?.[0]?.total||0,N=d?.[0]?.filters||{};return{items:p,total:w,hasMore:f,isLoading:b,isLoadingMore:y,isRefreshing:j,isEmpty:v,error:m,loadMore:()=>x(u+1),refresh:h,activeFilters:N,size:u}}function o(e,t=300){let{data:r,error:a,isValidating:l}=(0,s.default)(e&&e.trim()?`/api/items_search?q=${encodeURIComponent(e)}`:null,c,{dedupingInterval:1e3,revalidateOnFocus:!1});return{suggestions:Array.isArray(r)?r:[],isLoading:l,error:a}}function d(){let{data:e,error:t,isValidating:r}=(0,s.default)("/api/items/categories",c,{revalidateOnFocus:!1,dedupingInterval:6e4});return{categories:e?.categories||[],isLoading:!e&&!t,error:t}}a()}catch(e){a(e)}})},1658:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>u});var s=r(997),l=r(6689),n=r(1163),i=r(2255),o=r(8439),d=r(7134),c=r(1258),m=e([c]);function u(){let e=(0,n.useRouter)(),{addToast:t}=(0,o.pm)(),[r,a]=(0,l.useState)(""),[m,u]=(0,l.useState)(-1),x=(0,l.useRef)(null),g=(0,l.useRef)(null),h=(0,l.useRef)(null),p=function(e,t){let[r,a]=(0,l.useState)(e);return r}(r,0),f="true"===e.query.showAll,{items:b,total:y,hasMore:v,isLoading:j,isLoadingMore:w,isEmpty:N,error:S,loadMore:k,refresh:P}=(0,c.nc)(f),{suggestions:M,isLoading:_,error:A}=(0,c.ql)(p),C=t=>{t&&(a(t),e.push(`/item/${encodeURIComponent(t)}`))};return s.jsx(i.Z,{children:s.jsx("div",{className:"bg-gradient-to-br from-blue-50 via-white to-green-50 min-h-screen",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,s.jsxs)("header",{className:"mb-8 flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 flex items-center gap-3",children:[s.jsx("span",{className:"text-green-600",children:"ML"})," Items",f&&s.jsx("span",{className:"text-lg font-normal text-gray-500",children:"- All Items"})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:f?`Menampilkan ${b.length}${y?` dari ${y}`:""} items dari database.`:"Cari item Mobile Legends dan lihat detailnya secara instan."}),f&&(0,s.jsxs)("button",{onClick:P,className:"mt-2 text-xs inline-flex items-center gap-1 px-2 py-1 rounded-md border border-gray-300 text-gray-600 bg-white hover:bg-gray-50",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Data"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("a",{href:"/?showAll=true",className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:"Heroes"}),s.jsx("a",{href:"/edit-matches",className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:"Matches"}),s.jsx("a",{href:"/",className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:f?"Dashboard":"Home"}),f&&s.jsx("button",{onClick:()=>e.push("/items"),className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:"Kembali ke Search Items"})]})]}),!f&&(0,s.jsxs)("section",{className:"bg-white rounded-2xl shadow border border-gray-100 p-4 md:p-6",children:[s.jsx("label",{htmlFor:"itemInput",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cari Item"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{id:"itemInput",ref:g,value:r,onChange:e=>{a(e.target.value),u(-1)},onKeyDown:e=>{if(M.length||_)switch(e.key){case"ArrowDown":_||(e.preventDefault(),u(e=>(e+1)%M.length));break;case"ArrowUp":_||(e.preventDefault(),u(e=>(e-1+M.length)%M.length));break;case"Enter":!_&&(m>=0?(e.preventDefault(),C(M[m])):r.trim()&&C(r.trim()));break;case"Escape":a(""),u(-1)}},placeholder:"Ketik nama item...",className:"w-full rounded-none border border-black bg-white focus:border-black focus:ring-black pr-10 px-3 py-2 rounded-xs",autoComplete:"off"}),(M.length>0||_)&&s.jsx("div",{ref:x,className:"absolute z-10 mt-2 w-full bg-white border border-gray-200 rounded-xl shadow-lg max-h-72 overflow-auto",children:_?(0,s.jsxs)("div",{className:"flex items-center justify-center py-4 px-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-green-600"}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Mencari items..."})]}):M.map((e,t)=>s.jsx("div",{className:`cursor-pointer px-4 py-2 text-sm text-gray-700 ${0===t?"rounded-t-xl":""} ${t===M.length-1?"rounded-b-xl":""} ${t===m?"bg-gray-100":""}`,onMouseDown:t=>{t.preventDefault(),C(e)},children:e},e+t))})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Mulai ketik minimal 1 huruf. Gunakan tombol panah untuk navigasi dan Enter untuk pilih."})]}),f&&s.jsx("section",{className:"bg-white rounded-2xl shadow border border-gray-100 p-4 md:p-6",children:j?(0,s.jsxs)("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-sky-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Memuat items..."})]}):N?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-600",children:"Tidak ada items ditemukan di database."})}):b.length>0?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:b.map((t,r)=>s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors cursor-pointer border border-gray-200",onClick:()=>e.push(`/item/${encodeURIComponent(t.item_name)}`),children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(d.Z,{src:t.image_url,alt:t.item_name,containerClassName:"w-16 h-16 mx-auto mb-3",className:"w-full h-full object-cover rounded-full"}),s.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-1",children:t.item_name}),s.jsx("p",{className:"text-xs text-gray-500",children:t.category||"Item"})]})},r))}),(0,s.jsxs)("div",{ref:h,className:"mt-8 flex flex-col items-center justify-center py-4",children:[w&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"}),s.jsx("span",{className:"mt-2 text-sm text-gray-600",children:"Memuat lebih banyak items..."})]}),!v&&b.length>0&&(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["âœ“ Semua ",b.length," items telah dimuat"]})]})]}):null}),(0,s.jsxs)("footer",{className:"mt-10 text-center text-xs text-gray-400",children:[new Date().getFullYear()," ML Helper"]})]})})})}c=(m.then?(await m)():m)[0],a()}catch(e){a(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},5941:e=>{e.exports=import("swr")},1448:e=>{e.exports=import("swr/infinite")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[6859,8342,1664,5093],()=>r(4637));module.exports=a})();