(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{2953:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/edit-teams",function(){return a(9883)}])},2255:function(e,s,a){"use strict";a.d(s,{Z:function(){return m}});var r=a(5893),t=a(1664),n=a.n(t),l=a(1163),i=a(7294);let o=[{name:"Dashboard",href:"/",icon:(0,r.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z"})]})},{name:"Heroes",href:"/?showAll=true",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})},{name:"Items",href:"/items",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})},{name:"Battle Spells",href:"/spells",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})},{name:"Emblems",href:"/emblems",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 1.343-3 3 0 1.656 1.343 3 3 3s3-1.344 3-3c0-1.657-1.343-3-3-3zm0-6l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.27 5.82 22 7 14.14l-5-4.87 6.91-1.01L12 2z"})})},{name:"Matches",href:"/matches",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{name:"Teams",href:"/edit-teams",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}],d=[];function c(e){let{children:s}=e,a=(0,l.useRouter)(),[t,c]=(0,i.useState)(!1),m=e=>"/"===e?"/"===a.pathname:a.pathname.startsWith(e),x=e=>{let{item:s}=e;return(0,r.jsxs)(n(),{href:s.href,className:"group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-150 ".concat(m(s.href)?"bg-sky-100 text-sky-700 border-r-2 border-sky-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,r.jsx)("span",{className:"mr-3 ".concat(m(s.href)?"text-sky-700":"text-gray-400 group-hover:text-gray-500"),children:s.icon}),s.name]})};return(0,r.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:(0,r.jsxs)("div",{className:"flex flex-col flex-grow pt-5 pb-4 overflow-y-auto bg-white border-r border-gray-200",children:[(0,r.jsx)("div",{className:"flex items-center flex-shrink-0 px-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-sky-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white font-bold text-lg",children:"M"})}),(0,r.jsx)("span",{className:"ml-3 text-xl font-semibold text-gray-900",children:"ML Helper"})]})}),(0,r.jsxs)("nav",{className:"mt-8 flex-1 px-4 space-y-1",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("h3",{className:"px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Main"}),o.map(e=>(0,r.jsx)(x,{item:e},e.name))]}),d.length>0&&(0,r.jsxs)("div",{className:"mt-8 space-y-1",children:[(0,r.jsx)("h3",{className:"px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Management"}),d.map(e=>(0,r.jsx)(x,{item:e},e.name))]})]})]})}),t&&(0,r.jsx)("div",{className:"lg:hidden",children:(0,r.jsxs)("div",{className:"fixed inset-0 flex z-40",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>c(!1)}),(0,r.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,r.jsxs)("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>c(!1),children:[(0,r.jsx)("span",{className:"sr-only",children:"Close sidebar"}),(0,r.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})}),(0,r.jsxs)("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex-shrink-0 flex items-center px-4",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-sky-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white font-bold text-lg",children:"M"})}),(0,r.jsx)("span",{className:"ml-3 text-xl font-semibold text-gray-900",children:"ML Helper"})]}),(0,r.jsx)("nav",{className:"mt-8 flex-1 px-4 space-y-1",children:[...o,...d].map(e=>(0,r.jsxs)(n(),{href:e.href,className:"group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-150 ".concat(m(e.href)?"bg-sky-100 text-sky-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),onClick:()=>c(!1),children:[(0,r.jsx)("span",{className:"mr-3 ".concat(m(e.href)?"text-sky-700":"text-gray-400 group-hover:text-gray-500"),children:e.icon}),e.name]},e.name))})]})]})]})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,r.jsxs)("div",{className:"relative z-10 flex-shrink-0 flex h-16 bg-white shadow-sm border-b border-gray-200 lg:hidden",children:[(0,r.jsxs)("button",{type:"button",className:"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-sky-500",onClick:()=>c(!0),children:[(0,r.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})})]}),(0,r.jsx)("div",{className:"flex-1 px-4 flex justify-between",children:(0,r.jsxs)("div",{className:"flex-1 flex",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-sky-500 to-blue-600 rounded-lg flex items-center justify-center mr-3",children:(0,r.jsx)("span",{className:"text-white font-bold text-lg",children:"M"})}),(0,r.jsx)("span",{className:"text-xl font-semibold text-gray-900",children:"ML Helper"})]})})]}),(0,r.jsx)("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:(0,r.jsx)("div",{className:"py-6",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s})})})]})]})}function m(e){let{children:s}=e;return(0,r.jsx)(c,{children:s})}a(3783)},9883:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return i}});var r=a(5893),t=a(7294),n=a(2255);let l={team_name:"",tag:"",region:""};function i(){let[e,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(!1),[o,d]=(0,t.useState)(!1),[c,m]=(0,t.useState)(""),[x,h]=(0,t.useState)(""),[g,u]=(0,t.useState)({...l}),[p,f]=(0,t.useState)(null),[b,j]=(0,t.useState)({...l}),y=async()=>{i(!0),m(""),h("");try{let e=await fetch("/api/teams");if(!e.ok)throw Error("Gagal memuat data");let a=await e.json();s(Array.isArray(a)?a:[])}catch(e){m(e.message||"Error")}finally{i(!1)}};(0,t.useEffect)(()=>{y()},[]);let v=(e,s)=>u(a=>({...a,[e]:s})),N=(e,s)=>j(a=>({...a,[e]:s})),k=async e=>{e.preventDefault(),d(!0),m(""),h("");try{if(!g.team_name.trim())throw Error("Team name wajib diisi");if(!(await fetch("/api/teams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)})).ok)throw Error("Gagal menambah team");h("Team berhasil ditambahkan"),u({...l}),await y()}catch(e){m(e.message||"Error")}finally{d(!1)}};return(0,r.jsx)(n.Z,{children:(0,r.jsx)("div",{className:"bg-gradient-to-br from-yellow-50 via-white to-emerald-50 min-h-screen",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,r.jsxs)("header",{className:"mb-6 flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Master Teams"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("a",{href:"/?showAll=true",className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:"Heroes"}),(0,r.jsx)("a",{href:"/items",className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:"Items"}),(0,r.jsx)("a",{href:"/edit-matches",className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:"Matches"}),(0,r.jsx)("a",{href:"/edit-teams",className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-indigo-200 text-indigo-700 bg-white",children:"Teams"})]})]}),(0,r.jsxs)("section",{className:"bg-white rounded-2xl shadow border border-gray-100 p-4 md:p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Tambah Team"}),a&&(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Memuat data..."}),c&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-2",children:c}),x&&(0,r.jsx)("p",{className:"text-sm text-green-600 mt-2",children:x}),(0,r.jsxs)("form",{onSubmit:k,className:"mt-4 space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Team Name"}),(0,r.jsx)("input",{value:g.team_name,onChange:e=>v("team_name",e.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:border-black focus:ring-black",placeholder:"Contoh: EVOS"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tag"}),(0,r.jsx)("input",{value:g.tag,onChange:e=>v("tag",e.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:border-black focus:ring-black",placeholder:"EVOS"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Region"}),(0,r.jsx)("input",{value:g.region,onChange:e=>v("region",e.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:border-black focus:ring-black",placeholder:"ID"})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",disabled:o,className:"inline-flex items-center gap-2 px-4 py-2 rounded-md bg-purple-600 text-white hover:bg-purple-700 disabled:opacity-50",children:o?"Menyimpan...":"Tambah Team"})})]})]}),(0,r.jsxs)("section",{className:"mt-8 bg-white rounded-2xl shadow border border-gray-100 p-4 md:p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Daftar Teams"}),0===e.length?(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Belum ada data."}):(0,r.jsx)("ul",{className:"mt-3 divide-y divide-gray-100",children:e.map(e=>{let a=p===e.id;return(0,r.jsx)("li",{className:"py-3",children:a?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-600",children:"Team Name"}),(0,r.jsx)("input",{value:b.team_name,onChange:e=>N("team_name",e.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:border-black focus:ring-black"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-600",children:"Tag"}),(0,r.jsx)("input",{value:b.tag,onChange:e=>N("tag",e.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:border-black focus:ring-black"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-600",children:"Region"}),(0,r.jsx)("input",{value:b.region,onChange:e=>N("region",e.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:border-black focus:ring-black"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{type:"button",className:"text-xs px-2 py-1 rounded-md border border-gray-200 bg-white text-gray-700 hover:bg-gray-100",onClick:()=>{f(null),j({...l})},children:"Batal"}),(0,r.jsx)("button",{type:"button",className:"text-xs px-2 py-1 rounded-md bg-purple-600 text-white hover:bg-purple-700",onClick:async()=>{try{if(!b.team_name.trim())throw Error("Team name wajib diisi");if(!(await fetch("/api/teams/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).ok)throw Error("Gagal menyimpan");s(s=>s.map(s=>s.id===e.id?{...s,...b}:s)),f(null),j({...l})}catch(e){alert(e.message||"Error")}},children:"Simpan"})]})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-800",children:e.team_name}),(0,r.jsxs)("p",{className:"text-xs text-gray-600",children:["Tag: ",e.tag||"-"," | Region: ",e.region||"-"]}),(0,r.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,r.jsx)("button",{type:"button",className:"text-xs px-2 py-1 rounded-md border border-gray-200 bg-white text-gray-700 hover:bg-gray-100",onClick:()=>{f(e.id),j({team_name:e.team_name||"",tag:e.tag||"",region:e.region||""})},children:"Edit"}),(0,r.jsx)("button",{type:"button",className:"text-xs px-2 py-1 rounded-md border border-red-200 bg-white text-red-600 hover:bg-red-50",onClick:async()=>{if(confirm("Hapus team ini?"))try{if(!(await fetch("/api/teams/".concat(e.id),{method:"DELETE"})).ok)throw Error("Gagal menghapus");s(s=>s.filter(s=>s.id!==e.id))}catch(e){alert(e.message||"Error")}},children:"Hapus"})]})]})},e.id)})})]})]})})})}}},function(e){e.O(0,[424,888,774,179],function(){return e(e.s=2953)}),_N_E=e.O()}]);