(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[809],{7465:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/item/[name]",function(){return a(6308)}])},6308:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return d}});var s=a(5893),t=a(7294),l=a(1163),n=a(2255),c=a(7134);function d(){let e=(0,l.useRouter)(),r="string"==typeof e.query.name?e.query.name:"",[a,d]=(0,t.useState)(null),[o,i]=(0,t.useState)(!0),[m,p]=(0,t.useState)(!1),[u,x]=(0,t.useState)({description:"",price:"",attack:"",attack_speed:"",crit_chance:"",armor_pen:"",spell_vamp:"",magic_power:"",hp:"",armor:"",magic_resist:"",movement_speed:"",cooldown_reduction:"",mana_regen:"",hp_regen:""}),[g,b]=(0,t.useState)(!1),[h,y]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{if(r){i(!0);try{let e=await fetch("/api/items/".concat(encodeURIComponent(r))),a=e.ok?await e.json():null;d(a&&(a.item_name||a.name)?a:null),a&&x({description:a.description||"",price:null!=a.price?a.price:"",attack:null!=a.attack?a.attack:"",attack_speed:null!=a.attack_speed?a.attack_speed:"",crit_chance:null!=a.crit_chance?a.crit_chance:"",armor_pen:null!=a.armor_pen?a.armor_pen:"",spell_vamp:null!=a.spell_vamp?a.spell_vamp:"",magic_power:null!=a.magic_power?a.magic_power:"",hp:null!=a.hp?a.hp:"",armor:null!=a.armor?a.armor:"",magic_resist:null!=a.magic_resist?a.magic_resist:"",movement_speed:null!=a.movement_speed?a.movement_speed:"",cooldown_reduction:null!=a.cooldown_reduction?a.cooldown_reduction:"",mana_regen:null!=a.mana_regen?a.mana_regen:"",hp_regen:null!=a.hp_regen?a.hp_regen:""})}catch(e){d(null)}finally{i(!1)}}})()},[r]);let f=async()=>{if(a){b(!0),y("");try{let e={description:u.description,price:u.price?parseInt(u.price):null,attack:u.attack?parseInt(u.attack):null,attack_speed:u.attack_speed?parseFloat(u.attack_speed):null,crit_chance:u.crit_chance?parseFloat(u.crit_chance):null,armor_pen:u.armor_pen?parseFloat(u.armor_pen):null,spell_vamp:u.spell_vamp?parseFloat(u.spell_vamp):null,magic_power:u.magic_power?parseInt(u.magic_power):null,hp:u.hp?parseInt(u.hp):null,armor:u.armor?parseInt(u.armor):null,magic_resist:u.magic_resist?parseInt(u.magic_resist):null,movement_speed:u.movement_speed?parseInt(u.movement_speed):null,cooldown_reduction:u.cooldown_reduction?parseFloat(u.cooldown_reduction):null,mana_regen:u.mana_regen?parseInt(u.mana_regen):null,hp_regen:u.hp_regen?parseInt(u.hp_regen):null},a=await fetch("/api/items/".concat(encodeURIComponent(r)),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok){let e=await a.json();d(e),p(!1),y("✓ Item berhasil diperbarui"),setTimeout(()=>y(""),3e3)}else y("✗ Gagal menyimpan perubahan")}catch(e){y("✗ Error: "+e.message)}finally{b(!1)}}};return(0,s.jsx)(n.Z,{children:(0,s.jsx)("div",{className:"bg-gradient-to-br from-blue-50 via-white to-green-50 min-h-screen",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:r?"Item Detail: ".concat(r):"Item Detail"}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"Informasi detail item."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>e.push("/compare-items?item1=".concat(encodeURIComponent(r))),className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-purple-200 text-purple-700 bg-purple-50 hover:bg-purple-100",children:"⚖️ Compare"}),(0,s.jsx)("button",{onClick:()=>e.push("/items?showAll=true"),className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:"All Items"}),(0,s.jsx)("button",{onClick:()=>e.push("/"),className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:"Dashboard"})]})]}),(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o?(0,s.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-sky-600"}),(0,s.jsx)("span",{className:"ml-2 text-gray-600",children:"Memuat detail item..."})]}):a?(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(c.Z,{src:a.image_url,alt:a.item_name||r,containerClassName:"w-20 h-20",className:"w-full h-full object-cover rounded-full"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:a.item_name||r}),a.category&&(0,s.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Category: ",a.category]})]})]}),(0,s.jsx)("button",{onClick:()=>p(!m),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(m?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-600 text-white hover:bg-blue-700"),children:m?"Batal":"✏️ Edit"})]}),h&&(0,s.jsx)("div",{className:"mb-4 p-3 rounded-lg text-sm font-medium ".concat(h.startsWith("✓")?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:h}),m?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,s.jsx)("textarea",{value:u.description,onChange:e=>x({...u,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",placeholder:"Masukkan deskripsi item..."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (Gold)"}),(0,s.jsx)("input",{type:"number",value:u.price,onChange:e=>x({...u,price:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attack"}),(0,s.jsx)("input",{type:"number",value:u.attack,onChange:e=>x({...u,attack:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attack Speed"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:u.attack_speed,onChange:e=>x({...u,attack_speed:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Crit Chance"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:u.crit_chance,onChange:e=>x({...u,crit_chance:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Armor Penetration"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:u.armor_pen,onChange:e=>x({...u,armor_pen:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Spell Vamp"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:u.spell_vamp,onChange:e=>x({...u,spell_vamp:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Magic Power"}),(0,s.jsx)("input",{type:"number",value:u.magic_power,onChange:e=>x({...u,magic_power:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HP"}),(0,s.jsx)("input",{type:"number",value:u.hp,onChange:e=>x({...u,hp:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Armor"}),(0,s.jsx)("input",{type:"number",value:u.armor,onChange:e=>x({...u,armor:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Magic Resist"}),(0,s.jsx)("input",{type:"number",value:u.magic_resist,onChange:e=>x({...u,magic_resist:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Movement Speed"}),(0,s.jsx)("input",{type:"number",value:u.movement_speed,onChange:e=>x({...u,movement_speed:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cooldown Reduction"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:u.cooldown_reduction,onChange:e=>x({...u,cooldown_reduction:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mana Regen"}),(0,s.jsx)("input",{type:"number",value:u.mana_regen,onChange:e=>x({...u,mana_regen:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HP Regen"}),(0,s.jsx)("input",{type:"number",value:u.hp_regen,onChange:e=>x({...u,hp_regen:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 justify-end pt-4",children:[(0,s.jsx)("button",{onClick:()=>p(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Batal"}),(0,s.jsx)("button",{onClick:f,disabled:g,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:g?"Menyimpan...":"Simpan"})]})]}):(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:[(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Description"}),(0,s.jsx)("p",{className:"text-gray-700 mt-1 text-sm",children:a.description||"-"})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Price"}),(0,s.jsx)("p",{className:"text-gray-700 mt-1 text-sm",children:null!=a.price?"".concat(a.price," gold"):"-"})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Attack"}),(0,s.jsx)("p",{className:"text-gray-700 mt-1 text-sm",children:a.attack||"-"})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Attack Speed"}),(0,s.jsx)("p",{className:"text-gray-700 mt-1 text-sm",children:a.attack_speed||"-"})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Crit Chance"}),(0,s.jsx)("p",{className:"text-gray-700 mt-1 text-sm",children:a.crit_chance||"-"})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Armor Pen"}),(0,s.jsx)("p",{className:"text-gray-700 mt-1 text-sm",children:a.armor_pen||"-"})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Spell Vamp"}),(0,s.jsx)("p",{className:"text-gray-700 mt-1 text-sm",children:a.spell_vamp||"-"})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Magic Power"}),(0,s.jsx)("p",{className:"text-gray-700 mt-1 text-sm",children:a.magic_power||"-"})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"HP"}),(0,s.jsx)("p",{className:"text-gray-700 mt-1 text-sm",children:a.hp||"-"})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Armor"}),(0,s.jsx)("p",{className:"text-gray-700 mt-1 text-sm",children:a.armor||"-"})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Magic Resist"}),(0,s.jsx)("p",{className:"text-gray-700 mt-1 text-sm",children:a.magic_resist||"-"})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Movement Speed"}),(0,s.jsx)("p",{className:"text-gray-700 mt-1 text-sm",children:a.movement_speed||"-"})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Cooldown Reduction"}),(0,s.jsx)("p",{className:"text-gray-700 mt-1 text-sm",children:a.cooldown_reduction||"-"})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Mana Regen"}),(0,s.jsx)("p",{className:"text-gray-700 mt-1 text-sm",children:a.mana_regen||"-"})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"HP Regen"}),(0,s.jsx)("p",{className:"text-gray-700 mt-1 text-sm",children:a.hp_regen||"-"})]})]})]}):(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-gray-600",children:"Item tidak ditemukan."})})})]})})})}}},function(e){e.O(0,[424,42,888,774,179],function(){return e(e.s=7465)}),_N_E=e.O()}]);