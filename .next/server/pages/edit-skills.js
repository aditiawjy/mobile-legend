"use strict";(()=>{var e={};e.id=3492,e.ids=[3492],e.modules={2398:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{config:()=>p,default:()=>u,getServerSideProps:()=>x,getStaticPaths:()=>h,getStaticProps:()=>m,reportWebVitals:()=>b,routeModule:()=>j,unstable_getServerProps:()=>f,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>k,unstable_getStaticProps:()=>g});var r=s(7093),l=s(5244),i=s(1323),n=s(5949),o=s(3414),d=s(8481),c=e([o]);o=(c.then?(await c)():c)[0];let u=(0,i.l)(d,"default"),m=(0,i.l)(d,"getStaticProps"),h=(0,i.l)(d,"getStaticPaths"),x=(0,i.l)(d,"getServerSideProps"),p=(0,i.l)(d,"config"),b=(0,i.l)(d,"reportWebVitals"),g=(0,i.l)(d,"unstable_getStaticProps"),k=(0,i.l)(d,"unstable_getStaticPaths"),y=(0,i.l)(d,"unstable_getStaticParams"),f=(0,i.l)(d,"unstable_getServerProps"),v=(0,i.l)(d,"unstable_getServerSideProps"),j=new r.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/edit-skills",pathname:"/edit-skills",bundlePath:"",filename:""},components:{App:o.default,Document:n.default},userland:d});a()}catch(e){a(e)}})},9598:(e,t,s)=>{s.d(t,{Z:()=>l});var a=s(997),r=s(6689);function l({onSearch:e,placeholder:t="Cari hero..."}){let[s,l]=(0,r.useState)(""),[i,n]=(0,r.useState)([]),[o,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(-1),x=(0,r.useRef)(null),p=(0,r.useRef)(null),b=t=>{l(t),n([]),d(!1),h(-1),e&&e(t)};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{ref:x,type:"text",value:s,onChange:t=>{let s=t.target.value;l(s),h(-1),""===s&&e&&e("")},onKeyDown:e=>{if(o&&0!==i.length)switch(e.key){case"ArrowDown":e.preventDefault(),h(e=>(e+1)%i.length);break;case"ArrowUp":e.preventDefault(),h(e=>(e-1+i.length)%i.length);break;case"Enter":e.preventDefault(),m>=0&&b(i[m]);break;case"Escape":d(!1),h(-1),x.current?.blur()}},onFocus:()=>{i.length>0&&d(!0)},placeholder:t,className:"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 bg-white shadow-sm transition-all duration-150",autoComplete:"off"}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:c?a.jsx("div",{className:"pr-3",children:a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-sky-500 border-t-transparent rounded-full"})}):s?a.jsx("button",{onClick:()=>{l(""),n([]),d(!1),h(-1),e&&e("")},className:"pr-3 text-gray-400 hover:text-gray-600 transition-colors duration-150",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}):null})]}),o&&i.length>0&&a.jsx("div",{ref:p,className:"absolute z-50 mt-1 w-full bg-white shadow-lg border border-gray-200 rounded-lg max-h-72 overflow-auto",children:i.map((e,t)=>a.jsx("div",{className:`px-4 py-3 text-sm cursor-pointer transition-colors duration-150 ${t===m?"bg-sky-50 text-sky-700 border-l-4 border-sky-500":"text-gray-700 hover:bg-gray-50"} ${0===t?"rounded-t-lg":""} ${t===i.length-1?"rounded-b-lg":""}`,onClick:()=>b(e),onMouseEnter:()=>h(t),children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e]})},e))}),o&&!c&&s.length>=1&&0===i.length&&a.jsx("div",{className:"absolute z-50 mt-1 w-full bg-white shadow-lg border border-gray-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"text-center text-gray-500",children:[a.jsx("svg",{className:"mx-auto h-8 w-8 text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.5-.881-6.13-2.34M20.828 10.828a8 8 0 10-11.314 0"})}),a.jsx("p",{className:"text-sm",children:"Tidak ada hero ditemukan"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Coba kata kunci yang berbeda"})]})})]})}s(3783)},8481:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(997),r=s(6689),l=s(1163),i=s(2255),n=s(9598),o=s(8439);s(3783);let d=[{key:"skill1_name",label:"Basic Attack Name"},{key:"skill1_desc",label:"Basic Attack Description",textarea:!0},{key:"skill2_name",label:"Skill 1 Name"},{key:"skill2_desc",label:"Skill 1 Description",textarea:!0},{key:"skill3_name",label:"Skill 2 Name"},{key:"skill3_desc",label:"Skill 2 Description",textarea:!0},{key:"skill4_name",label:"Skill 3 Name"},{key:"skill4_desc",label:"Skill 3 Description",textarea:!0},{key:"ultimate_name",label:"Ultimate Name"},{key:"ultimate_desc",label:"Ultimate Description",textarea:!0}];function c(){let e=(0,l.useRouter)(),{addToast:t}=(0,o.pm)(),s="string"==typeof e.query.name?e.query.name:"",[c,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(!1),[x,p]=(0,r.useState)(""),[b,g]=(0,r.useState)(""),[k,y]=(0,r.useState)(()=>Object.fromEntries(d.map(e=>[e.key,""]))),f=(0,r.useMemo)(()=>!!k&&d.some(e=>{let t=k[e.key];return t&&""!==t.toString().trim()}),[k]),[v,j]=(0,r.useState)(""),[w,N]=(0,r.useState)([]),[S,P]=(0,r.useState)(-1),[_,C]=(0,r.useState)(!1);(0,r.useRef)(null),(0,r.useRef)(null);let[M,D]=(0,r.useState)(""),L=(e,t)=>{y(s=>({...s,[e]:t}))},q=async e=>{if(e.preventDefault(),s){h(!0);try{let e={};if(d.forEach(t=>{let s=k[t.key];void 0!==s&&(e[t.key]=s)}),!(await fetch(`/api/heroes/${encodeURIComponent(s)}/skills`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Gagal menyimpan perubahan");t({type:"success",title:"Success!",message:"Perubahan berhasil disimpan",duration:5e3}),y(t=>({...t,...e,hero_name:s}))}catch(e){t({type:"error",title:"Error!",message:e.message||"Gagal menyimpan perubahan",duration:7e3})}finally{h(!1)}}};return a.jsx(i.Z,{children:a.jsx("div",{className:"bg-gradient-to-br from-sky-50 via-white to-blue-50 min-h-screen",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Skills"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Kelola deskripsi skill untuk hero Mobile Legends"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pilih Hero"}),a.jsx(n.Z,{onSearch:t=>{t&&e.push(`/edit-skills?name=${encodeURIComponent(t)}`)},placeholder:"Cari dan pilih hero untuk diedit..."}),s&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[a.jsx("span",{className:"font-medium",children:"Sedang mengedit:"})," ",s]})]}),c&&(0,a.jsxs)("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-sky-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Memuat data..."})]}),!c&&s&&!f&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Data skill belum ada"}),a.jsx("p",{className:"mt-1 text-sm text-yellow-700",children:'Data skill untuk hero ini belum ada di database. Silakan isi form di bawah lalu klik "Simpan Perubahan".'})]})]})}),(0,a.jsxs)("form",{onSubmit:q,className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.map(e=>{let t=k&&void 0!==k[e.key]&&null!==k[e.key]?k[e.key]:"";return(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e.label}),e.textarea?a.jsx("textarea",{value:t,onChange:t=>L(e.key,t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-colors",rows:4,placeholder:`Masukkan ${e.label.toLowerCase()}...`}):a.jsx("input",{type:"text",value:t,onChange:t=>L(e.key,t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-colors",placeholder:`Masukkan ${e.label.toLowerCase()}...`})]},e.key)})}),a.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:a.jsx("button",{type:"submit",disabled:m,className:"inline-flex items-center px-6 py-2 bg-sky-600 text-white font-medium rounded-lg hover:bg-sky-700 focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Menyimpan..."]}):"Simpan Perubahan"})})]})]})]})})})}},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},5941:e=>{e.exports=import("swr")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[6859,8342,1664,5093],()=>s(2398));module.exports=a})();