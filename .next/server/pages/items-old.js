"use strict";(()=>{var e={};e.id=3049,e.ids=[3049],e.modules={6274:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{config:()=>h,default:()=>m,getServerSideProps:()=>g,getStaticPaths:()=>u,getStaticProps:()=>x,reportWebVitals:()=>p,routeModule:()=>v,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>b});var r=s(7093),l=s(5244),i=s(1323),n=s(5949),d=s(3414),c=s(184),o=e([d]);d=(o.then?(await o)():o)[0];let m=(0,i.l)(c,"default"),x=(0,i.l)(c,"getStaticProps"),u=(0,i.l)(c,"getStaticPaths"),g=(0,i.l)(c,"getServerSideProps"),h=(0,i.l)(c,"config"),p=(0,i.l)(c,"reportWebVitals"),b=(0,i.l)(c,"unstable_getStaticProps"),f=(0,i.l)(c,"unstable_getStaticPaths"),y=(0,i.l)(c,"unstable_getStaticParams"),j=(0,i.l)(c,"unstable_getServerProps"),N=(0,i.l)(c,"unstable_getServerSideProps"),v=new r.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/items-old",pathname:"/items-old",bundlePath:"",filename:""},components:{App:d.default,Document:n.default},userland:c});a()}catch(e){a(e)}})},7134:(e,t,s)=>{s.d(t,{Z:()=>l});var a=s(997),r=s(6689);function l({src:e,alt:t,fallback:s=null,className:l="",containerClassName:i="",onError:n=null}){let[d,c]=(0,r.useState)(!1),[o,m]=(0,r.useState)(!1),[x,u]=(0,r.useState)(!1),g=(0,r.useRef)(null),h=(0,r.useRef)(null);return a.jsx("div",{ref:h,className:i||"w-16 h-16 mx-auto mb-3",children:!e||o?(()=>{if(s)return s;let e=t?t.charAt(0).toUpperCase():"?";return a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-teal-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:e})})})():x?(0,a.jsxs)("div",{className:"relative w-full h-full",children:[!d&&a.jsx("div",{className:"absolute inset-0 bg-gray-200 rounded-full animate-pulse"}),a.jsx("img",{ref:g,src:e,alt:t,className:`${l} ${d?"opacity-100":"opacity-0"} transition-opacity duration-300`,onLoad:()=>{c(!0)},onError:()=>{m(!0),n&&n()},loading:"lazy"})]}):a.jsx("div",{className:"w-full h-full bg-gray-200 rounded-full"})})}},184:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(997),r=s(6689),l=s(1163),i=s(2255),n=s(8439),d=s(7134);function c(){let e=(0,l.useRouter)(),{addToast:t}=(0,n.pm)(),[s,c]=(0,r.useState)(""),[o,m]=(0,r.useState)([]),[x,u]=(0,r.useState)(!1),[g,h]=(0,r.useState)(-1),[p,b]=(0,r.useState)(null),f=(0,r.useRef)(null),y=(0,r.useRef)(null);(function(e,t){let[s,a]=(0,r.useState)(e)})(s,0);let j="true"===e.query.showAll,[N,v]=(0,r.useState)([]),[w,S]=(0,r.useState)(!1),[k,P]=(0,r.useState)(!0),[_,C]=(0,r.useState)(0),[M,D]=(0,r.useState)(!1),I=(0,r.useRef)(null),$=t=>{t&&(c(t),m([]),u(!1),e.push(`/item/${encodeURIComponent(t)}`))};return(0,r.useCallback)(async()=>{if(!M&&k){D(!0);try{let e=await fetch(`/api/items?limit=20&offset=${_}`);if(e.ok){let t=await e.json();v(e=>[...e,...t.items||[]]),P(t.hasMore),C(e=>e+20)}}catch(e){console.error(e),t((0,n._N)("Gagal memuat lebih banyak items.","Network Error"))}finally{D(!1)}}},[M,k,_,t]),a.jsx(i.Z,{children:a.jsx("div",{className:"bg-gradient-to-br from-blue-50 via-white to-green-50 min-h-screen",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,a.jsxs)("header",{className:"mb-8 flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 flex items-center gap-3",children:[a.jsx("span",{className:"text-green-600",children:"ML"})," Items",j&&a.jsx("span",{className:"text-lg font-normal text-gray-500",children:"- All Items"})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:j?`Menampilkan semua ${N.length} items dari database.`:"Cari item Mobile Legends dan lihat detailnya secara instan."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("a",{href:"/?showAll=true",className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:"Heroes"}),a.jsx("a",{href:"/edit-matches",className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:"Matches"}),a.jsx("a",{href:"/",className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:j?"Dashboard":"Home"}),j&&a.jsx("button",{onClick:()=>e.push("/items"),className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:"Kembali ke Search Items"})]})]}),!j&&(0,a.jsxs)("section",{className:"bg-white rounded-2xl shadow border border-gray-100 p-4 md:p-6",children:[a.jsx("label",{htmlFor:"itemInput",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cari Item"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{id:"itemInput",ref:y,value:s,onChange:e=>{c(e.target.value),h(-1)},onKeyDown:e=>{if(o.length||x)switch(e.key){case"ArrowDown":x||(e.preventDefault(),h(e=>(e+1)%o.length));break;case"ArrowUp":x||(e.preventDefault(),h(e=>(e-1+o.length)%o.length));break;case"Enter":!x&&(g>=0?(e.preventDefault(),$(o[g])):s.trim()&&$(s.trim()));break;case"Escape":m([]),u(!1)}},placeholder:"Ketik nama item...",className:"w-full rounded-none border border-black bg-white focus:border-black focus:ring-black pr-10 px-3 py-2 rounded-xs",autoComplete:"off"}),(o.length>0||x)&&a.jsx("div",{ref:f,className:"absolute z-10 mt-2 w-full bg-white border border-gray-200 rounded-xl shadow-lg max-h-72 overflow-auto",children:x?(0,a.jsxs)("div",{className:"flex items-center justify-center py-4 px-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-green-600"}),a.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Mencari items..."})]}):o.map((e,t)=>a.jsx("div",{className:`cursor-pointer px-4 py-2 text-sm text-gray-700 ${0===t?"rounded-t-xl":""} ${t===o.length-1?"rounded-b-xl":""} ${t===g?"bg-gray-100":""}`,onMouseDown:t=>{t.preventDefault(),$(e)},children:e},e+t))})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Mulai ketik minimal 1 huruf. Gunakan tombol panah untuk navigasi dan Enter untuk pilih."})]}),j&&a.jsx("section",{className:"bg-white rounded-2xl shadow border border-gray-100 p-4 md:p-6",children:w?(0,a.jsxs)("div",{className:"flex items-center justify-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-sky-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Memuat items..."})]}):N.length>0?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:N.map((t,s)=>a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors cursor-pointer border border-gray-200",onClick:()=>e.push(`/item/${encodeURIComponent(t.item_name)}`),children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(d.Z,{src:t.image_url,alt:t.item_name,containerClassName:"w-16 h-16 mx-auto mb-3",className:"w-full h-full object-cover rounded-full"}),a.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-1",children:t.item_name}),a.jsx("p",{className:"text-xs text-gray-500",children:t.category||"Item"})]})},s))}),(0,a.jsxs)("div",{ref:I,className:"mt-8 flex flex-col items-center justify-center py-4",children:[M&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"}),a.jsx("span",{className:"mt-2 text-sm text-gray-600",children:"Memuat lebih banyak items..."})]}),!k&&(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["âœ“ Semua ",N.length," items telah dimuat"]})]})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-600",children:"Tidak ada items ditemukan di database."})})}),p&&a.jsx("section",{className:"mt-8",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow border border-gray-100 p-4 md:p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:p.item_name||s}),p.category&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Category: ",p.category]})]}),a.jsx("a",{href:`/edit-items?name=${encodeURIComponent(p.item_name||s)}`,className:"text-xs inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:"Edit Item"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mt-6",children:[a.jsx("div",{className:"space-y-3",children:(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Description"}),a.jsx("p",{className:"text-gray-700 mt-1",children:p.description||"-"})]})}),a.jsx("div",{className:"space-y-3",children:(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Price"}),a.jsx("p",{className:"text-gray-700 mt-1",children:null!=p.price?`${p.price} gold`:"-"})]})})]})]})}),(0,a.jsxs)("footer",{className:"mt-10 text-center text-xs text-gray-400",children:[new Date().getFullYear()," ML Helper"]})]})})})}},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},5941:e=>{e.exports=import("swr")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[6859,8342,1664,5093],()=>s(6274));module.exports=a})();