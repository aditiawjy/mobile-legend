"use strict";(()=>{var e={};e.id=176,e.ids=[176],e.modules={4138:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>p,default:()=>c,getServerSideProps:()=>u,getStaticPaths:()=>g,getStaticProps:()=>x,reportWebVitals:()=>h,routeModule:()=>N,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>b});var s=a(7093),i=a(5244),l=a(1323),d=a(5949),n=a(3414),o=a(9883),m=e([n]);n=(m.then?(await m)():m)[0];let c=(0,l.l)(o,"default"),x=(0,l.l)(o,"getStaticProps"),g=(0,l.l)(o,"getStaticPaths"),u=(0,l.l)(o,"getServerSideProps"),p=(0,l.l)(o,"config"),h=(0,l.l)(o,"reportWebVitals"),b=(0,l.l)(o,"unstable_getStaticProps"),y=(0,l.l)(o,"unstable_getStaticPaths"),f=(0,l.l)(o,"unstable_getStaticParams"),j=(0,l.l)(o,"unstable_getServerProps"),v=(0,l.l)(o,"unstable_getServerSideProps"),N=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/edit-teams",pathname:"/edit-teams",bundlePath:"",filename:""},components:{App:n.default,Document:d.default},userland:o});r()}catch(e){r(e)}})},9883:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var r=a(997),s=a(6689),i=a(2255);let l={team_name:"",tag:"",region:""};function d(){let[e,t]=(0,s.useState)([]),[a,d]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!1),[m,c]=(0,s.useState)(""),[x,g]=(0,s.useState)(""),[u,p]=(0,s.useState)({...l}),[h,b]=(0,s.useState)(null),[y,f]=(0,s.useState)({...l}),j=async()=>{d(!0),c(""),g("");try{let e=await fetch("/api/teams");if(!e.ok)throw Error("Gagal memuat data");let a=await e.json();t(Array.isArray(a)?a:[])}catch(e){c(e.message||"Error")}finally{d(!1)}},v=(e,t)=>p(a=>({...a,[e]:t})),N=(e,t)=>f(a=>({...a,[e]:t})),w=async e=>{e.preventDefault(),o(!0),c(""),g("");try{if(!u.team_name.trim())throw Error("Team name wajib diisi");if(!(await fetch("/api/teams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).ok)throw Error("Gagal menambah team");g("Team berhasil ditambahkan"),p({...l}),await j()}catch(e){c(e.message||"Error")}finally{o(!1)}};return r.jsx(i.Z,{children:r.jsx("div",{className:"bg-gradient-to-br from-yellow-50 via-white to-emerald-50 min-h-screen",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,r.jsxs)("header",{className:"mb-6 flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Master Teams"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("a",{href:"/?showAll=true",className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:"Heroes"}),r.jsx("a",{href:"/items",className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:"Items"}),r.jsx("a",{href:"/edit-matches",className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 bg-white hover:bg-gray-100",children:"Matches"}),r.jsx("a",{href:"/edit-teams",className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-md border border-indigo-200 text-indigo-700 bg-white",children:"Teams"})]})]}),(0,r.jsxs)("section",{className:"bg-white rounded-2xl shadow border border-gray-100 p-4 md:p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Tambah Team"}),a&&r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Memuat data..."}),m&&r.jsx("p",{className:"text-sm text-red-600 mt-2",children:m}),x&&r.jsx("p",{className:"text-sm text-green-600 mt-2",children:x}),(0,r.jsxs)("form",{onSubmit:w,className:"mt-4 space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Team Name"}),r.jsx("input",{value:u.team_name,onChange:e=>v("team_name",e.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:border-black focus:ring-black",placeholder:"Contoh: EVOS"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tag"}),r.jsx("input",{value:u.tag,onChange:e=>v("tag",e.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:border-black focus:ring-black",placeholder:"EVOS"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Region"}),r.jsx("input",{value:u.region,onChange:e=>v("region",e.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:border-black focus:ring-black",placeholder:"ID"})]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:n,className:"inline-flex items-center gap-2 px-4 py-2 rounded-md bg-purple-600 text-white hover:bg-purple-700 disabled:opacity-50",children:n?"Menyimpan...":"Tambah Team"})})]})]}),(0,r.jsxs)("section",{className:"mt-8 bg-white rounded-2xl shadow border border-gray-100 p-4 md:p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Daftar Teams"}),0===e.length?r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Belum ada data."}):r.jsx("ul",{className:"mt-3 divide-y divide-gray-100",children:e.map(e=>{let a=h===e.id;return r.jsx("li",{className:"py-3",children:a?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Team Name"}),r.jsx("input",{value:y.team_name,onChange:e=>N("team_name",e.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:border-black focus:ring-black"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Tag"}),r.jsx("input",{value:y.tag,onChange:e=>N("tag",e.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:border-black focus:ring-black"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Region"}),r.jsx("input",{value:y.region,onChange:e=>N("region",e.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:border-black focus:ring-black"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",className:"text-xs px-2 py-1 rounded-md border border-gray-200 bg-white text-gray-700 hover:bg-gray-100",onClick:()=>{b(null),f({...l})},children:"Batal"}),r.jsx("button",{type:"button",className:"text-xs px-2 py-1 rounded-md bg-purple-600 text-white hover:bg-purple-700",onClick:async()=>{try{if(!y.team_name.trim())throw Error("Team name wajib diisi");if(!(await fetch(`/api/teams/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).ok)throw Error("Gagal menyimpan");t(t=>t.map(t=>t.id===e.id?{...t,...y}:t)),b(null),f({...l})}catch(e){alert(e.message||"Error")}},children:"Simpan"})]})]}):(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-800",children:e.team_name}),(0,r.jsxs)("p",{className:"text-xs text-gray-600",children:["Tag: ",e.tag||"-"," | Region: ",e.region||"-"]}),(0,r.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("button",{type:"button",className:"text-xs px-2 py-1 rounded-md border border-gray-200 bg-white text-gray-700 hover:bg-gray-100",onClick:()=>{b(e.id),f({team_name:e.team_name||"",tag:e.tag||"",region:e.region||""})},children:"Edit"}),r.jsx("button",{type:"button",className:"text-xs px-2 py-1 rounded-md border border-red-200 bg-white text-red-600 hover:bg-red-50",onClick:async()=>{if(confirm("Hapus team ini?"))try{if(!(await fetch(`/api/teams/${e.id}`,{method:"DELETE"})).ok)throw Error("Gagal menghapus");t(t=>t.filter(t=>t.id!==e.id))}catch(e){alert(e.message||"Error")}},children:"Hapus"})]})]})},e.id)})})]})]})})})}},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},5941:e=>{e.exports=import("swr")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[6859,8342,1664,5093],()=>a(4138));module.exports=r})();